<fieldset>
    <legend>
        <f:translate key="tx_rkwmanagementconsultancy_partials_supportrequest_requestForm.applicant" extensionName="RkwManagementConsultancy" />
    </legend>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="name">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.name" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="name" />
        </div>
        <div class="v320-2-of-2">
            <label for="address">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.address" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="address" />
        </div>
    </div>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="zip">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.zip" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="zip" />
        </div>
        <div class="v320-2-of-2">
            <label for="city">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.city" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="city" />
        </div>
    </div>

    <div class="v320-1">

        <![CDATA[
            <script type="text/javascript">
                var DateSelector = {
                    field: null,
                    data: {
                        date: new Date(),
                        day: 0,
                        month: -1,
                        year: 0,
                        format: {
                            locale: 'de-DE',
                            options: {
                                day: '2-digit',
                                month: '2-digit',
                                year: 'numeric'
                            }
                        }
                    },
                    init: function() {
                        console.log('on load');
                        this.field = document.getElementById('foundationDate');
                        if (this.field.value !== '') {
                            var parsedDate = this.field.value.split(".");

                            this.data.date = new Date(parsedDate[2], parsedDate[1], parsedDate[0]);

                            console.log(this.data.date);

                            this.data.day = this.data.date.getDate();
                            this.data.month = this.data.date.getMonth();
                            this.data.year = this.data.date.getFullYear();

                            //  @todo: set select fields, too!!!
                        }
                    },
                    update: function(event, type) {
                        this.init();

                        this.data[type] = event.target.value;
                        if (type === 'month') {
                            this.data[type] = event.target.value - 1;
                        }

                        this.set();
                    },
                    set: function() {
                        if (this.data.day > 0 && this.data.month > 0 && this.data.year > 0) {
                            this.data.date = new Date(this.data.year, this.data.month, this.data.day);
                            this.field.value = this.data.date.toLocaleDateString(this.data.format.locale, this.data.format.options);
                        }
                    }
                };
            </script>
        ]]>

        <div class="v320-1-of-2">
            <label for="foundationDate">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.foundation_date" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="foundationDate" id="foundationDate" value="{supportRequest.foundationDate->f:format.date()}" placeholder="DD.MM.YYYY"/>
        </div>

        <div class="v320-2-of-2">
            <label for="companyType">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.company_type" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.select property="companyType" options="{companyTypeList}" optionValueField="uid" optionLabelField="name" prependOptionValue="0" prependOptionLabel="{f:translate(key:'tx_rkwmanagementconsultancy_domain_model_supportrequest.general.pleaseChoose')}" />
        </div>
    </div>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="balance">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.balance" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="balance" />
        </div>
        <div class="v320-2-of-2">
            <label for="sales">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.sales" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="sales" />
        </div>
    </div>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="employeesCount">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.employees_count" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="employeesCount" />
        </div>
    </div>

    <div class="v320-1">
        <label for="manager">
            <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.manager" extensionName="RkwManagementConsultancy" />
        </label>
        <f:form.textfield property="manager" />
    </div>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="singleRepresentative">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.single_representative" extensionName="RkwManagementConsultancy" />
            </label>
            <span class="radio">
                <label>
                     <f:form.radio name="singleRepresentative" value="1" checked="checked" />
                    &nbsp;<f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.single_representative.1" extensionName="RkwManagementConsultancy" />
                </label>
            </span>
            <span class="radio">
                <label>
                    <f:form.radio name="singleRepresentative" value="99" />
                    <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.single_representative.99" extensionName="RkwManagementConsultancy" />
                </label>
            </span>
        </div>
        <div class="v320-2-of-2">
            <label for="preTaxDeduction">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_tax_deduction" extensionName="RkwManagementConsultancy" />
            </label>
            <span class="radio">
                <label>
                     <f:form.radio name="preTaxDeduction" value="1" checked="checked" />
                    &nbsp;<f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_tax_deduction.1" extensionName="RkwManagementConsultancy" />
                </label>
            </span>
            <span class="radio">
                <label>
                    <f:form.radio name="preTaxDeduction" value="99" />
                    <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_tax_deduction.99" extensionName="RkwManagementConsultancy" />
                </label>
            </span>
        </div>
    </div>

    <div class="v320-1">
        <label for="businessPurpose">
            <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.business_purpose" extensionName="RkwManagementConsultancy" />
        </label>
        <f:form.textfield property="businessPurpose" />
    </div>

    <div class="v320-1">
        <label for="companyShares">
            <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.company_shares" extensionName="RkwManagementConsultancy" />
        </label>
        <f:form.textarea property="companyShares" cols="40" rows="5" />
    </div>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="principalBank">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.principal_bank" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="principalBank" />
        </div>
    </div>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="bic">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.bic" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="bic" />
        </div>
        <div class="v320-2-of-2">
            <label for="iban">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.iban" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="iban" />
        </div>
    </div>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="contactPersonName">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.contact_person_last_name" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="contactPersonLastName" />
        </div>
        <div class="v320-2-of-2">
            <label for="contactPersonName">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.contact_person_first_name" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="contactPersonFirstName" />
        </div>
    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="contactPersonPhone">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.contact_person_phone" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="contactPersonPhone" />
        </div>
        <div class="v320-2-of-2">
            <label for="contactPersonFax">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.contact_person_fax" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="contactPersonFax" />
        </div>
    </div>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="contactPersonMobile">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.contact_person_mobile" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="contactPersonMobile" />
        </div>
        <div class="v320-2-of-2">
            <label for="contactPersonEmail">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.contact_person_email" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.textfield property="contactPersonEmail" />
        </div>
    </div>

    <div class="v320-1">
        <div class="v320-1-of-2">
            <label for="preFoundationEmployment">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_foundation_employment" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.select property="preFoundationEmployment" options="{0: '{f:translate(key:\"tx_rkwmanagementconsultancy_domain_model_supportrequest.general.pleaseChoose\", extensionName:\"RkwManagementConsultancy\")}', 1: '{f:translate(key:\"tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_foundation_employment.employed\", extensionName:\"RkwManagementConsultancy\")}', 2: '{f:translate(key:\"tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_foundation_employment.unemployed\", extensionName:\"RkwManagementConsultancy\")}', 3: '{f:translate(key:\"tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_foundation_employment.freelancer\", extensionName:\"RkwManagementConsultancy\")}'}" />
        </div>
        <div class="v320-2-of-2">
            <label for="preFoundationSelfEmployment">
                <f:translate key="tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_foundation_self_employment" extensionName="RkwManagementConsultancy" />
            </label>
            <f:form.select property="preFoundationSelfEmployment" options="{0: '{f:translate(key:\"tx_rkwmanagementconsultancy_domain_model_supportrequest.general.pleaseChoose\", extensionName:\"RkwManagementConsultancy\")}', 1: '{f:translate(key:\"tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_foundation_self_employment.no\", extensionName:\"RkwManagementConsultancy\")}', 2: '{f:translate(key:\"tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_foundation_self_employment.sideline\", extensionName:\"RkwManagementConsultancy\")}', 3: '{f:translate(key:\"tx_rkwmanagementconsultancy_domain_model_supportrequest.pre_foundation_self_employment.mainOccupation\", extensionName:\"RkwManagementConsultancy\")}'}" />
        </div>
    </div>
</fieldset>

<script>
    toggleStartUp(document.querySelector('.is-start-up-trigger'));

    function toggleStartUp(checkbox){
        if (checkbox.checked) {
            document.querySelector('div.is-start-up').style.display = 'block';
        } else {
            document.querySelector('div.is-start-up').style.display = 'none';
        }
    }
</script>
<style>
    .is-start-up {
        display: none;
    }
</style>